{"remainingRequest":"E:\\内容安全\\final\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\内容安全\\final\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\内容安全\\final\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!E:\\内容安全\\final\\frontend\\src\\store\\index.js","dependencies":[{"path":"E:\\内容安全\\final\\frontend\\src\\store\\index.js","mtime":1745392240358},{"path":"E:\\内容安全\\final\\frontend\\babel.config.js","mtime":1745384115006},{"path":"E:\\内容安全\\final\\frontend\\babel.config.js","mtime":1745384115006},{"path":"E:\\内容安全\\final\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745383817393},{"path":"E:\\内容安全\\final\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1745383814346},{"path":"E:\\内容安全\\final\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1745383814346},{"path":"E:\\内容安全\\final\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1745383817059}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBhdHRlbmRhbmNlUmVjb3JkczogW10sCiAgICBjbGFzc0luZm86IHsKICAgICAgY2xhc3NlczogW10KICAgIH0sCiAgICBsaXZlbmVzc01ldGhvZDogJ2JsaW5rJywKICAgIC8vIOm7mOiupOa0u+S9k+ajgOa1i+aWueazlQogICAgbG9hZGluZzogZmFsc2UsCiAgICBlcnJvcjogbnVsbCwKICAgIGxhc3REZXRlY3Rpb25SZXN1bHQ6IG51bGwKICB9LAogIG11dGF0aW9uczogewogICAgU0VUX0FUVEVOREFOQ0VfUkVDT1JEUyhzdGF0ZSwgcmVjb3JkcykgewogICAgICBzdGF0ZS5hdHRlbmRhbmNlUmVjb3JkcyA9IHJlY29yZHM7CiAgICB9LAogICAgU0VUX0NMQVNTX0lORk8oc3RhdGUsIGluZm8pIHsKICAgICAgc3RhdGUuY2xhc3NJbmZvID0gaW5mbzsKICAgIH0sCiAgICBTRVRfTElWRU5FU1NfTUVUSE9EKHN0YXRlLCBtZXRob2QpIHsKICAgICAgc3RhdGUubGl2ZW5lc3NNZXRob2QgPSBtZXRob2Q7CiAgICB9LAogICAgU0VUX0xPQURJTkcoc3RhdGUsIGxvYWRpbmcpIHsKICAgICAgc3RhdGUubG9hZGluZyA9IGxvYWRpbmc7CiAgICB9LAogICAgU0VUX0VSUk9SKHN0YXRlLCBlcnJvcikgewogICAgICBzdGF0ZS5lcnJvciA9IGVycm9yOwogICAgfSwKICAgIFNFVF9MQVNUX0RFVEVDVElPTl9SRVNVTFQoc3RhdGUsIHJlc3VsdCkgewogICAgICBzdGF0ZS5sYXN0RGV0ZWN0aW9uUmVzdWx0ID0gcmVzdWx0OwogICAgfSwKICAgIEFERF9BVFRFTkRBTkNFX1JFQ09SRChzdGF0ZSwgcmVjb3JkKSB7CiAgICAgIHN0YXRlLmF0dGVuZGFuY2VSZWNvcmRzLnB1c2gocmVjb3JkKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGFzeW5jIGZldGNoQXR0ZW5kYW5jZVJlY29yZHMoewogICAgICBjb21taXQKICAgIH0pIHsKICAgICAgY29tbWl0KCdTRVRfTE9BRElORycsIHRydWUpOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvYXBpL2dldF9hdHRlbmRhbmNlJyk7CiAgICAgICAgY29tbWl0KCdTRVRfQVRURU5EQU5DRV9SRUNPUkRTJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29tbWl0KCdTRVRfRVJST1InLCBudWxsKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ1NFVF9FUlJPUicsICfojrflj5bogIPli6TorrDlvZXlpLHotKXvvJonICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W6ICD5Yuk6K6w5b2V5aSx6LSlJywgZXJyb3IpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIGNvbW1pdCgnU0VUX0xPQURJTkcnLCBmYWxzZSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBmZXRjaENsYXNzSW5mbyh7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICBjb21taXQoJ1NFVF9MT0FESU5HJywgdHJ1ZSk7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJy9hcGkvY2xhc3NfaW5mbycpOwogICAgICAgIGNvbW1pdCgnU0VUX0NMQVNTX0lORk8nLCByZXNwb25zZS5kYXRhKTsKICAgICAgICBjb21taXQoJ1NFVF9FUlJPUicsIG51bGwpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbW1pdCgnU0VUX0VSUk9SJywgJ+iOt+WPluePree6p+S/oeaBr+Wksei0pe+8micgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bnj63nuqfkv6Hmga/lpLHotKUnLCBlcnJvcik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgY29tbWl0KCdTRVRfTE9BRElORycsIGZhbHNlKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGRldGVjdExpdmVuZXNzKHsKICAgICAgY29tbWl0LAogICAgICBzdGF0ZQogICAgfSwgaW1hZ2VEYXRhKSB7CiAgICAgIGNvbW1pdCgnU0VUX0xPQURJTkcnLCB0cnVlKTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJy9hcGkvZGV0ZWN0X2xpdmVuZXNzJywgewogICAgICAgICAgaW1hZ2U6IGltYWdlRGF0YSwKICAgICAgICAgIG1ldGhvZDogc3RhdGUubGl2ZW5lc3NNZXRob2QKICAgICAgICB9KTsKICAgICAgICBjb21taXQoJ1NFVF9MQVNUX0RFVEVDVElPTl9SRVNVTFQnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICBjb21taXQoJ1NFVF9FUlJPUicsIG51bGwpOwogICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnN0IGVycm9yTXNnID0gJ+a0u+S9k+ajgOa1i+Wksei0pe+8micgKyBlcnJvci5tZXNzYWdlOwogICAgICAgIGNvbW1pdCgnU0VUX0VSUk9SJywgZXJyb3JNc2cpOwogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNc2csIGVycm9yKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgc3VjY2VzczogZmFsc2UsCiAgICAgICAgICBtZXNzYWdlOiBlcnJvck1zZwogICAgICAgIH07CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgY29tbWl0KCdTRVRfTE9BRElORycsIGZhbHNlKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHJlY29nbml6ZUZhY2UoewogICAgICBjb21taXQsCiAgICAgIHN0YXRlCiAgICB9LCBpbWFnZURhdGEpIHsKICAgICAgY29tbWl0KCdTRVRfTE9BRElORycsIHRydWUpOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnL2FwaS9yZWNvZ25pemVfZmFjZScsIHsKICAgICAgICAgIGltYWdlOiBpbWFnZURhdGEsCiAgICAgICAgICBtZXRob2Q6IHN0YXRlLmxpdmVuZXNzTWV0aG9kCiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgY29tbWl0KCdBRERfQVRURU5EQU5DRV9SRUNPUkQnLCB7CiAgICAgICAgICAgIHN0dWRlbnRfaWQ6IHJlc3BvbnNlLmRhdGEuc3R1ZGVudF9pZCwKICAgICAgICAgICAgc3R1ZGVudF9uYW1lOiByZXNwb25zZS5kYXRhLnN0dWRlbnRfbmFtZSwKICAgICAgICAgICAgdGltZXN0YW1wOiByZXNwb25zZS5kYXRhLnRpbWVzdGFtcCwKICAgICAgICAgICAgc2ltaWxhcml0eTogcmVzcG9uc2UuZGF0YS5zaW1pbGFyaXR5CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgY29tbWl0KCdTRVRfRVJST1InLCBudWxsKTsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zdCBlcnJvck1zZyA9ICfkurrohLjor4bliKvlpLHotKXvvJonICsgZXJyb3IubWVzc2FnZTsKICAgICAgICBjb21taXQoJ1NFVF9FUlJPUicsIGVycm9yTXNnKTsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICAgICAgbWVzc2FnZTogZXJyb3JNc2cKICAgICAgICB9OwogICAgICB9IGZpbmFsbHkgewogICAgICAgIGNvbW1pdCgnU0VUX0xPQURJTkcnLCBmYWxzZSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyByZWdpc3RlckZhY2UoewogICAgICBjb21taXQKICAgIH0sIHsKICAgICAgaW1hZ2VEYXRhLAogICAgICBzdHVkZW50SWQsCiAgICAgIHN0dWRlbnROYW1lLAogICAgICBjbGFzc0lkCiAgICB9KSB7CiAgICAgIGNvbW1pdCgnU0VUX0xPQURJTkcnLCB0cnVlKTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zb2xlLmxvZyhg5byA5aeL5rOo5YaM5a2m55Sf5L+h5oGvOiBJRD0ke3N0dWRlbnRJZH0sIOWnk+WQjT0ke3N0dWRlbnROYW1lfSwg54+t57qnPSR7Y2xhc3NJZH1gKTsKCiAgICAgICAgLy8g5qOA5p+l5Zu+5YOP5pWw5o2u5qC85byPCiAgICAgICAgaWYgKCFpbWFnZURhdGEgfHwgdHlwZW9mIGltYWdlRGF0YSAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5Zu+5YOP5pWw5o2u5peg5pWI5oiW5qC85byP5LiN5q2j56GuJyk7CiAgICAgICAgfQogICAgICAgIGlmICghaW1hZ2VEYXRhLnN0YXJ0c1dpdGgoJ2RhdGE6aW1hZ2UnKSkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCflm77lg4/mlbDmja7kuI3mmK/mnInmlYjnmoREYXRhIFVSTOagvOW8jycpOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZyhg5Zu+5YOP5pWw5o2u6ZW/5bqmOiAke2ltYWdlRGF0YS5sZW5ndGh9IOWtl+espmApOwogICAgICAgIGNvbnNvbGUubG9nKGDlm77lg4/mlbDmja7liY3nvIA6ICR7aW1hZ2VEYXRhLnN1YnN0cmluZygwLCAzMCl9Li4uYCk7CgogICAgICAgIC8vIOaehOW7uuivt+axguaVsOaNrgogICAgICAgIGNvbnN0IHJlcXVlc3REYXRhID0gewogICAgICAgICAgaW1hZ2U6IGltYWdlRGF0YSwKICAgICAgICAgIHN0dWRlbnRfaWQ6IHN0dWRlbnRJZCwKICAgICAgICAgIHN0dWRlbnRfbmFtZTogc3R1ZGVudE5hbWUsCiAgICAgICAgICBjbGFzc19pZDogY2xhc3NJZAogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2coIuWPkemAgeazqOWGjOivt+axgi4uLiIpOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnL2FwaS9yZWdpc3Rlcl9mYWNlJywgcmVxdWVzdERhdGEpOwogICAgICAgIGNvbnNvbGUubG9nKCLms6jlhozor7fmsYLlk43lupQ6IiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29tbWl0KCdTRVRfRVJST1InLCBudWxsKTsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zdCBlcnJvck1zZyA9ICfkurrohLjms6jlhozlpLHotKXvvJonICsgZXJyb3IubWVzc2FnZTsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnLCBlcnJvcik7CgogICAgICAgIC8vIOWmguaenOacieWTjeW6lOaVsOaNru+8jOi+k+WHuuabtOivpue7hueahOmUmeivr+S/oeaBrwogICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v5ZON5bqU54q25oCBOicsIGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfplJnor6/lk43lupTmlbDmja46JywgZXJyb3IucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICAgIGNvbW1pdCgnU0VUX0VSUk9SJywgZXJyb3JNc2cpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwKICAgICAgICAgIG1lc3NhZ2U6IGVycm9yTXNnLAogICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3IudG9TdHJpbmcoKSwKICAgICAgICAgIHJlc3BvbnNlRGF0YTogZXJyb3IucmVzcG9uc2UgPyBlcnJvci5yZXNwb25zZS5kYXRhIDogbnVsbAogICAgICAgIH07CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgY29tbWl0KCdTRVRfTE9BRElORycsIGZhbHNlKTsKICAgICAgfQogICAgfSwKICAgIHNldExpdmVuZXNzTWV0aG9kKHsKICAgICAgY29tbWl0CiAgICB9LCBtZXRob2QpIHsKICAgICAgY29tbWl0KCdTRVRfTElWRU5FU1NfTUVUSE9EJywgbWV0aG9kKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9hZGluZzogc3RhdGUgPT4gc3RhdGUubG9hZGluZywKICAgIGVycm9yOiBzdGF0ZSA9PiBzdGF0ZS5lcnJvciwKICAgIGF0dGVuZGFuY2VSZWNvcmRzOiBzdGF0ZSA9PiBzdGF0ZS5hdHRlbmRhbmNlUmVjb3JkcywKICAgIGNsYXNzSW5mbzogc3RhdGUgPT4gc3RhdGUuY2xhc3NJbmZvLAogICAgbGl2ZW5lc3NNZXRob2Q6IHN0YXRlID0+IHN0YXRlLmxpdmVuZXNzTWV0aG9kLAogICAgbGFzdERldGVjdGlvblJlc3VsdDogc3RhdGUgPT4gc3RhdGUubGFzdERldGVjdGlvblJlc3VsdAogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"names":["Vue","Vuex","axios","use","Store","state","attendanceRecords","classInfo","classes","livenessMethod","loading","error","lastDetectionResult","mutations","SET_ATTENDANCE_RECORDS","records","SET_CLASS_INFO","info","SET_LIVENESS_METHOD","method","SET_LOADING","SET_ERROR","SET_LAST_DETECTION_RESULT","result","ADD_ATTENDANCE_RECORD","record","push","actions","fetchAttendanceRecords","commit","response","get","data","message","console","fetchClassInfo","detectLiveness","imageData","post","image","errorMsg","success","recognizeFace","student_id","student_name","timestamp","similarity","registerFace","studentId","studentName","classId","log","Error","startsWith","length","substring","requestData","class_id","status","originalError","toString","responseData","setLivenessMethod","getters","isLoading","modules"],"sources":["E:/内容安全/final/frontend/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    attendanceRecords: [],\r\n    classInfo: { classes: [] },\r\n    livenessMethod: 'blink', // 默认活体检测方法\r\n    loading: false,\r\n    error: null,\r\n    lastDetectionResult: null\r\n  },\r\n  mutations: {\r\n    SET_ATTENDANCE_RECORDS(state, records) {\r\n      state.attendanceRecords = records\r\n    },\r\n    SET_CLASS_INFO(state, info) {\r\n      state.classInfo = info\r\n    },\r\n    SET_LIVENESS_METHOD(state, method) {\r\n      state.livenessMethod = method\r\n    },\r\n    SET_LOADING(state, loading) {\r\n      state.loading = loading\r\n    },\r\n    SET_ERROR(state, error) {\r\n      state.error = error\r\n    },\r\n    SET_LAST_DETECTION_RESULT(state, result) {\r\n      state.lastDetectionResult = result\r\n    },\r\n    ADD_ATTENDANCE_RECORD(state, record) {\r\n      state.attendanceRecords.push(record)\r\n    }\r\n  },\r\n  actions: {\r\n    async fetchAttendanceRecords({ commit }) {\r\n      commit('SET_LOADING', true)\r\n      try {\r\n        const response = await axios.get('/api/get_attendance')\r\n        commit('SET_ATTENDANCE_RECORDS', response.data)\r\n        commit('SET_ERROR', null)\r\n      } catch (error) {\r\n        commit('SET_ERROR', '获取考勤记录失败：' + error.message)\r\n        console.error('获取考勤记录失败', error)\r\n      } finally {\r\n        commit('SET_LOADING', false)\r\n      }\r\n    },\r\n    async fetchClassInfo({ commit }) {\r\n      commit('SET_LOADING', true)\r\n      try {\r\n        const response = await axios.get('/api/class_info')\r\n        commit('SET_CLASS_INFO', response.data)\r\n        commit('SET_ERROR', null)\r\n      } catch (error) {\r\n        commit('SET_ERROR', '获取班级信息失败：' + error.message)\r\n        console.error('获取班级信息失败', error)\r\n      } finally {\r\n        commit('SET_LOADING', false)\r\n      }\r\n    },\r\n    async detectLiveness({ commit, state }, imageData) {\r\n      commit('SET_LOADING', true)\r\n      try {\r\n        const response = await axios.post('/api/detect_liveness', {\r\n          image: imageData,\r\n          method: state.livenessMethod\r\n        })\r\n        commit('SET_LAST_DETECTION_RESULT', response.data)\r\n        commit('SET_ERROR', null)\r\n        return response.data\r\n      } catch (error) {\r\n        const errorMsg = '活体检测失败：' + error.message\r\n        commit('SET_ERROR', errorMsg)\r\n        console.error(errorMsg, error)\r\n        return { success: false, message: errorMsg }\r\n      } finally {\r\n        commit('SET_LOADING', false)\r\n      }\r\n    },\r\n    async recognizeFace({ commit, state }, imageData) {\r\n      commit('SET_LOADING', true)\r\n      try {\r\n        const response = await axios.post('/api/recognize_face', {\r\n          image: imageData,\r\n          method: state.livenessMethod\r\n        })\r\n        \r\n        if (response.data.success) {\r\n          commit('ADD_ATTENDANCE_RECORD', {\r\n            student_id: response.data.student_id,\r\n            student_name: response.data.student_name,\r\n            timestamp: response.data.timestamp,\r\n            similarity: response.data.similarity\r\n          })\r\n        }\r\n        \r\n        commit('SET_ERROR', null)\r\n        return response.data\r\n      } catch (error) {\r\n        const errorMsg = '人脸识别失败：' + error.message\r\n        commit('SET_ERROR', errorMsg)\r\n        console.error(errorMsg, error)\r\n        return { success: false, message: errorMsg }\r\n      } finally {\r\n        commit('SET_LOADING', false)\r\n      }\r\n    },\r\n    async registerFace({ commit }, { imageData, studentId, studentName, classId }) {\r\n      commit('SET_LOADING', true);\r\n      try {\r\n        console.log(`开始注册学生信息: ID=${studentId}, 姓名=${studentName}, 班级=${classId}`);\r\n        \r\n        // 检查图像数据格式\r\n        if (!imageData || typeof imageData !== 'string') {\r\n          throw new Error('图像数据无效或格式不正确');\r\n        }\r\n        \r\n        if (!imageData.startsWith('data:image')) {\r\n          throw new Error('图像数据不是有效的Data URL格式');\r\n        }\r\n        \r\n        console.log(`图像数据长度: ${imageData.length} 字符`);\r\n        console.log(`图像数据前缀: ${imageData.substring(0, 30)}...`);\r\n        \r\n        // 构建请求数据\r\n        const requestData = {\r\n          image: imageData,\r\n          student_id: studentId,\r\n          student_name: studentName,\r\n          class_id: classId\r\n        };\r\n        \r\n        console.log(\"发送注册请求...\");\r\n        const response = await axios.post('/api/register_face', requestData);\r\n        console.log(\"注册请求响应:\", response.data);\r\n        \r\n        commit('SET_ERROR', null);\r\n        return response.data;\r\n      } catch (error) {\r\n        const errorMsg = '人脸注册失败：' + error.message;\r\n        console.error(errorMsg, error);\r\n        \r\n        // 如果有响应数据，输出更详细的错误信息\r\n        if (error.response) {\r\n          console.error('错误响应状态:', error.response.status);\r\n          console.error('错误响应数据:', error.response.data);\r\n        }\r\n        \r\n        commit('SET_ERROR', errorMsg);\r\n        return { \r\n          success: false, \r\n          message: errorMsg,\r\n          originalError: error.toString(),\r\n          responseData: error.response ? error.response.data : null\r\n        };\r\n      } finally {\r\n        commit('SET_LOADING', false);\r\n      }\r\n    },\r\n    setLivenessMethod({ commit }, method) {\r\n      commit('SET_LIVENESS_METHOD', method)\r\n    }\r\n  },\r\n  getters: {\r\n    isLoading: state => state.loading,\r\n    error: state => state.error,\r\n    attendanceRecords: state => state.attendanceRecords,\r\n    classInfo: state => state.classInfo,\r\n    livenessMethod: state => state.livenessMethod,\r\n    lastDetectionResult: state => state.lastDetectionResult\r\n  },\r\n  modules: {\r\n  }\r\n}) "],"mappings":"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","ignoreList":[]}]}