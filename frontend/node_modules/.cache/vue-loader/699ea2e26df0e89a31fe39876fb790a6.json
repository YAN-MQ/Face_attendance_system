{"remainingRequest":"E:\\内容安全\\final\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\内容安全\\final\\frontend\\src\\components\\TestButtons.vue?vue&type=style&index=0&id=631d890f&scoped=true&lang=css","dependencies":[{"path":"E:\\内容安全\\final\\frontend\\src\\components\\TestButtons.vue","mtime":1745417804453},{"path":"E:\\内容安全\\final\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1745383816861},{"path":"E:\\内容安全\\final\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1745383816801},{"path":"E:\\内容安全\\final\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1745383816755},{"path":"E:\\内容安全\\final\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745383817393},{"path":"E:\\内容安全\\final\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1745383816753}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoudGVzdC1idXR0b25zIHsNCiAgYW5pbWF0aW9uOiBmYWRlSW4gMC41cyBlYXNlLW91dDsNCn0NCg0KQGtleWZyYW1lcyBmYWRlSW4gew0KICBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDIwcHgpOyB9DQogIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9DQp9DQoNCnByZSB7DQogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7DQogIHBhZGRpbmc6IDEycHg7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgb3ZlcmZsb3cteDogYXV0bzsNCiAgZm9udC1zaXplOiAxMnB4Ow0KfQ0K"},{"version":3,"sources":["TestButtons.vue"],"names":[],"mappings":";AAyIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TestButtons.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"test-buttons\">\r\n    <v-card class=\"pa-4 ma-4 glassmorphism\">\r\n      <v-card-title class=\"headline primary--text\">\r\n        功能测试\r\n      </v-card-title>\r\n      <v-card-text>\r\n        <p>使用下面的按钮测试API连接是否正常</p>\r\n        \r\n        <div class=\"d-flex justify-center mt-6\">\r\n          <v-btn\r\n            color=\"primary\"\r\n            large\r\n            class=\"mx-2 btn-pulse\"\r\n            @click=\"testFaceRecognition\"\r\n            :loading=\"isLoading\"\r\n          >\r\n            <v-icon left>mdi-account-check</v-icon>\r\n            测试人脸识别\r\n          </v-btn>\r\n          \r\n          <v-btn\r\n            color=\"warning\"\r\n            large\r\n            class=\"mx-2 btn-pulse\"\r\n            @click=\"testLivenessDetection\"\r\n            :loading=\"isLoading\"\r\n          >\r\n            <v-icon left>mdi-shield-account</v-icon>\r\n            测试活体检测\r\n          </v-btn>\r\n        </div>\r\n        \r\n        <v-alert\r\n          v-if=\"result\"\r\n          :type=\"result.success ? 'success' : 'error'\"\r\n          border=\"left\"\r\n          class=\"mt-6\"\r\n        >\r\n          <strong>测试结果:</strong> {{ result.message }}\r\n          <pre class=\"mt-2\">{{ JSON.stringify(result, null, 2) }}</pre>\r\n        </v-alert>\r\n      </v-card-text>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'TestButtons',\r\n  data: () => ({\r\n    isLoading: false,\r\n    result: null\r\n  }),\r\n  methods: {\r\n    async testFaceRecognition() {\r\n      this.isLoading = true;\r\n      this.result = null;\r\n      \r\n      try {\r\n        console.log('测试人脸识别API连接');\r\n        \r\n        // 发送测试请求到后端\r\n        const response = await axios.get('/api/test/face_recognition');\r\n        \r\n        console.log('人脸识别测试响应:', response.data);\r\n        this.result = {\r\n          success: true,\r\n          message: '人脸识别API连接成功',\r\n          data: response.data\r\n        };\r\n      } catch (error) {\r\n        console.error('人脸识别测试失败:', error);\r\n        \r\n        this.result = {\r\n          success: false,\r\n          message: '人脸识别API连接失败',\r\n          error: error.message,\r\n          details: error.response ? error.response.data : null\r\n        };\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n    \r\n    async testLivenessDetection() {\r\n      this.isLoading = true;\r\n      this.result = null;\r\n      \r\n      try {\r\n        console.log('测试活体检测API连接');\r\n        \r\n        // 测试所有活体检测方法\r\n        const methods = ['blink', 'deep_learning', 'improved', 'api'];\r\n        const results = {};\r\n        \r\n        for (const method of methods) {\r\n          try {\r\n            console.log(`测试活体检测方法: ${method}`);\r\n            const response = await axios.get(`/api/test/liveness_detection?method=${method}`);\r\n            results[method] = {\r\n              success: true,\r\n              data: response.data\r\n            };\r\n          } catch (error) {\r\n            results[method] = {\r\n              success: false,\r\n              error: error.message\r\n            };\r\n          }\r\n        }\r\n        \r\n        this.result = {\r\n          success: Object.values(results).some(r => r.success),\r\n          message: '活体检测API测试完成',\r\n          methods: results\r\n        };\r\n      } catch (error) {\r\n        console.error('活体检测测试失败:', error);\r\n        \r\n        this.result = {\r\n          success: false,\r\n          message: '活体检测API连接失败',\r\n          error: error.message,\r\n          details: error.response ? error.response.data : null\r\n        };\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.test-buttons {\r\n  animation: fadeIn 0.5s ease-out;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; transform: translateY(20px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\npre {\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n  padding: 12px;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n  font-size: 12px;\r\n}\r\n</style> "]}]}